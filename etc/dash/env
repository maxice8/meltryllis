#
# Set path
#
PATH="$HOME"/.cargo/bin:"$HOME"/bin:"$HOME"/.local/bin:"$PATH"

export PATH
#
# Export our TTY, it needs to be here since we need to run it before
# fish starts so other shells get it
#
GPG_TTY="$(tty)"

export GPG_TTY
#
# If snooze-getmail is not running, start it
#
# pgrep -u "$(id -u)" -x snooze-getmail || fork snooze-getmail
#
# if we log in on VT1 and there is no text in the kernel cmdline start sx
#
if [ "$(tty)" = /dev/tty1 ]; then
  case " $(cat /proc/cmdline) " in
    *' text '*)	;;
	*' xorg '*) startx ${XDG_CONFIG_HOME}/X11/xinitrc -- vt1 ;;
	*) sway ;;
  esac
fi
#
# If we start a dash shell as interfactive we exec it as a fish shell
#
case $- in
  *i* )
    test -n "$NOFISH" && return
    if command -v fish >/dev/null 2>&1; then
      exec fish -l
    fi ;;
  * );;
esac
# vim: ft=sh
