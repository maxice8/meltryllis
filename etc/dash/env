#
# Set path
#
PATH="$HOME"/.cargo/bin:"$HOME"/bin:"$HOME"/.local/bin:"$PATH"

export PATH
#
# source XDG user dirs
#
# shellcheck source=../user-dirs.dirs
test -e "$XDG_CONFIG_HOME"/user-dirs.dirs &&
	. "$XDG_CONFIG_HOME"/user-dirs.dirs

export XDG_DESKTOP_DIR XDG_DOWNLOADS_DIR XDG_TEMPLATES XDG_PUBLICSHARE_DIR \
       XDG_DOCUMENTS_DIR XDG_MUSIC_DIR XDG_PICTURES_DIR XDG_VIDEOS_DIR
#
# Export JAVA stuff
#
_JAVA_AWT_WM_NONREPARENTING=1
_JAVA_OPTIONS='-Dawt.useSystemAAFontSettings=on -Dswing.aatext=true'

export _JAVA_OPTIONS _JAVA_AWT_WM_NONREPARENTING
#
# If snooze-getmail is not running, start it
#
# pgrep -u "$(id -u)" -x snooze-getmail || fork snooze-getmail
#
# if we log in on VT1 and there is no text in the kernel cmdline start sx
#
if [ "$(tty)" = /dev/tty1 ]; then
  case " $(cat /proc/cmdline) " in
    *' text '*)	;;
    *) startx ${XDG_CONFIG_HOME}/X11/xinitrc -- vt1;;
  esac
fi
#
# If we start a dash shell as interfactive we exec it as a fish shell
#
case $- in
  *i* )
    test -n "$NOFISH" && return
    if command -v fish >/dev/null 2>&1; then
      exec fish -l
    fi ;;
  * );;
esac
# vim: ft=sh
