#!/usr/bin/lua5.3
local filesize = require 'filesize'
function formatBytes(bytes)
  local units = {"B", "kB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"}
  local i = 1
  while bytes >= 1024 do
    if #units == i then break end
    bytes = bytes / 1024
    i = i + 1
  end
  return bytes .. " " .. units[ i ]
end

-- Open the file we were given to read
file = io.open(arg[1], r)

-- Set
io.input(file)

-- Store the size we were given
size = filesize(tonumber(io.read()))

io.close(file)

-- Open the file we were given to write from scratch
file = io.open(arg[1], "w+")

-- Sets the default output file
io.output(file)
io.write(size.."\n")
io.close(file)
