#! /bin/sh
#
# Keeps track of which windows gets focus and adds 1px border to it
# windows in the same workspace that are unfocused have their border
# set to 0px
#
bspc subscribe node_focus | while read -r _ _ _ wid; do
	for win in $(bspc query -N -n .window.local); do
		[ "$win" = "$wid" ] && continue
		bspc config -n $win border_width 0 &
	done
	bspc config -n $wid border_width 1 &
	wait
done
